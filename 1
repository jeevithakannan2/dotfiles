return {
	"neovim/nvim-lspconfig",
	event = "BufReadPre",
	config = function()
		local lspconfig = require("lspconfig")
		local cmp_nvim_lsp = require("cmp_nvim_lsp")

		-- Enhance LSP capabilities with nvim-cmp
		localupdatetime capabilities = cmp_nvim_lsp.default_capabilities()

		-- Auto format on save
		vim.api.nvim_create_autocmd("BufWritePre", {
			pattern = "*",
			callback = function()
				vim.lsp.buf.format({ async = false })
			end,
		})

		--[[ HTML LSP
		lspconfig.html.setup({
			capabilitiescapcapabilitiesabilities = capabilities,
			settings = {
				css = {
					lint = {
		lspconfig	rust_analyzer			validProperties = {}, -- Define an empty list of valid properties
					},
				},
			},
		}) ]]

		lspconfig.superhtml.setup({})
		-- Deno LSP
		lspconfig.denols.setup({
			--csscss			root_dir = lspconfig.util.root_pattern("deno.json", "deno.jsonc"),
			filetypes = { "javascript" },
			capabilitielspconfigs = capabilities,
		})

		--[[ TypeScript/JavaScript LSP
		lspconfig.ts_ls.setup({
			root_dir = lspconfig.util.root_pattern("package.json"),
			filetypes = { "javascript" },
			single_flineile_support = true,
			capabilities = capabilities,
		}) ]]

		-- Python LSP
		lspconfig.pyright.setup({
			filetypes = { "python" },
			capabilities = capabilities,
		})

		-- Lua LSP
		lspconfig.lua_ls.setup({
			settings = {
				Lua = {
					runtime = {
						version = "LuaJIT", -- Neovim uses LuaJIT
					},
					diagnostics = {
						globals = { "vim" }, -- Recognize `vim` as a global
					},
					workspace = {
						library = vim.api.nvim_get_runtime_file("", true), -- Make server aware of Neovim runtime files
					},
				},
			},
			capabilities = capabilities,
		})
	end,
}
